<style>
  .dep-panel { margin-top:16px; padding:14px; background:#faf5ff; border-radius:8px; border:1px solid #e9d5ff; }
  .dep-title { font-weight:600; font-size:14px; margin-bottom:10px; color:#581c87; display:flex; align-items:center; gap:8px; }
  .dep-summary { font-size:12px; color:#6b7280; margin-bottom:10px; }
  .dep-summary span { display:inline-block; margin-right:12px; }
  .dep-actions { display:flex; gap:8px; }
  .dep-btn { flex:1; padding:12px 14px; font-size:14px; font-weight:600; color:white; background:linear-gradient(135deg, #9333ea 0%, #7e22ce 100%); border:none; border-radius:8px; cursor:pointer; }
  .dep-btn:disabled { background:#cbd5e1; cursor:not-allowed; }
  .dep-btn-secondary { flex:0 0 auto; padding:12px 16px; font-size:13px; font-weight:500; color:#374151; background:white; border:1px solid #d1d5db; border-radius:8px; cursor:pointer; }
  .dep-btn-secondary:disabled { opacity:0.5; cursor:not-allowed; }
  .dep-note { margin-top:8px; font-size:12px; color:#6b21a8; background:#faf5ff; border:1px solid #d8b4fe; border-radius:6px; padding:8px 10px; }
</style>

<div id="depPanel" class="dep-panel" style="display:none;">
  <div class="dep-title">
    <i class="fa-solid fa-repeat"></i>
    Repeated Measures Setup
  </div>
  <div class="dep-summary">
    <span>Range: <strong id="depRange">â€”</strong></span>
    <span>Rows: <strong id="depRows">0</strong></span>
    <span>Columns: <strong id="depCols">0</strong></span>
  </div>
  <div class="dep-actions">
    <button id="openDependentBuilder" class="dep-btn" onclick="openDependentBuilder()" disabled>
      <i class="fa-solid fa-up-right-from-square"></i> Open Configuration
    </button>
    <button id="resetDependentModelBtn" class="dep-btn-secondary" onclick="resetDependentModel()" style="display:none;">
      <i class="fa-solid fa-rotate-left"></i> Reset
    </button>
  </div>
  <div class="dep-note">Select range only here, then configure timepoint columns and comparison mode in the popup.</div>
</div>
