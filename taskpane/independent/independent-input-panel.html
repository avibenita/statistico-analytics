<style>
  .ind-panel { margin-top:16px; padding:14px; background:#f8f9fa; border-radius:8px; border:1px solid #e5e7eb; }
  .ind-title { font-weight:600; font-size:14px; margin-bottom:10px; color:#374151; display:flex; align-items:center; gap:8px; }
  .ind-summary { font-size:12px; color:#6b7280; margin-bottom:10px; }
  .ind-summary span { display:inline-block; margin-right:12px; }
  .ind-actions { display:flex; gap:8px; }
  .ind-btn { flex:1; padding:12px 14px; font-size:14px; font-weight:600; color:white; background:linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); border:none; border-radius:8px; cursor:pointer; }
  .ind-btn:disabled { background:#cbd5e1; cursor:not-allowed; }
  .ind-btn-secondary { flex:0 0 auto; padding:12px 16px; font-size:13px; font-weight:500; color:#374151; background:white; border:1px solid #d1d5db; border-radius:8px; cursor:pointer; }
  .ind-btn-secondary:disabled { opacity:0.5; cursor:not-allowed; }
  .ind-note { margin-top:8px; font-size:12px; color:#1e40af; background:#eff6ff; border:1px solid #bfdbfe; border-radius:6px; padding:8px 10px; }
  .ind-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-bottom:10px; }
  .ind-grid label { font-size:12px; color:#475569; display:block; margin-bottom:4px; font-weight:600; }
  .ind-grid select, .ind-grid input { width:100%; padding:8px; border-radius:6px; border:1px solid #cbd5e1; background:#fff; font-size:12px; }
</style>

<div id="indPanel" class="ind-panel" style="display:none;">
  <div class="ind-title">
    <i class="fa-solid fa-not-equal"></i>
    Independent Means Setup
  </div>
  <div class="ind-summary">
    <span>Range: <strong id="indRange">â€”</strong></span>
    <span>Rows: <strong id="indRows">0</strong></span>
    <span>Columns: <strong id="indCols">0</strong></span>
  </div>
  <div class="ind-grid">
    <div>
      <label for="compareMode">Compare</label>
      <select id="compareMode" onchange="onIndependentSpecChanged()">
        <option value="two-vars">2 variables</option>
        <option value="k-plus">More than 2 groups</option>
      </select>
    </div>
    <div>
      <label for="frameworkMode">Primary inference</label>
      <select id="frameworkMode" onchange="onIndependentSpecChanged()">
        <option value="parametric">Parametric (means)</option>
        <option value="nonparametric">Nonparametric (ranks)</option>
      </select>
    </div>
    <div id="twoVarAWrap">
      <label for="groupASelect">Variable A</label>
      <select id="groupASelect" onchange="onIndependentSpecChanged()"></select>
    </div>
    <div id="twoVarBWrap">
      <label for="groupBSelect">Variable B</label>
      <select id="groupBSelect" onchange="onIndependentSpecChanged()"></select>
    </div>
    <div id="kValueWrap" style="display:none;">
      <label for="valueColumnSelect">Value column</label>
      <select id="valueColumnSelect" onchange="onIndependentSpecChanged()"></select>
    </div>
    <div id="kGroupWrap" style="display:none;">
      <label for="groupColumnSelect">Group column</label>
      <select id="groupColumnSelect" onchange="onIndependentSpecChanged()"></select>
    </div>
  </div>
  <div class="ind-actions">
    <button id="openIndependentBuilder" class="ind-btn" onclick="openIndependentResultsDialog()" disabled>
      <i class="fa-solid fa-chart-column"></i> Open Results Dashboard
    </button>
    <button id="resetIndependentModelBtn" class="ind-btn-secondary" onclick="resetIndependentModel()" style="display:none;">
      <i class="fa-solid fa-rotate-left"></i> Reset
    </button>
  </div>
  <div class="ind-note">Choose 2 variables or a grouped design (k>=3), then review all tabs with editable settings header in results.</div>
</div>
